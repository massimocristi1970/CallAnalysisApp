# Call Analysis Configuration
scoring:
  # Fuzzy matching threshold (0-100)
  fuzzy_threshold: 85
  # Semantic similarity threshold (0-1)
  semantic_threshold: 0.7
  # Minimum confidence for keyword detection
  keyword_confidence_threshold: 0.8

# Agent behavior phrases for rule-based scoring
agent_behaviour_phrases:
  Customer Understanding:
    - "do you understand"
    - "let me explain"
    - "does that make sense"
    - "is that clear"
    - "just to clarify"
    - "i'll walk you through"
    - "happy to explain again"
    - "take your time to understand"
    - "feel free to ask questions"
    - "would you like me to repeat"
    - "explain it simply"
    - "easy to understand"
    - "clear explanation"
    - "any questions so far"
    - "let me break that down"
    - "i can rephrase that for you"
    - "can you explain that again"
    - "i'm confused"
    - "I don't understand"
    - "I have memory problems"
    - "learning difficulties"
    - "someone helps me"
    - "I'm not sure what you mean"
    - "this is all very confusing"
    - "I need someone to help me understand"
    - "so you're happy with that payment"
    - "okay so this is your final payment"
    - "are you happy we've got your payment"
    - "are you happy with that"
    - "i'll send you the payment schedule via email"
    - "just to confirm your payments"
    - "are those affordable"
    - "are you happy with the monthly repayment"
    - "just let you know your next payment"
    - "i'm going to send it to you in an email"
    - "just so that you have email confirmation"
    - "it's vitally important you get in contact"
    - "i have sent it all to you in an email"
    - "so we're going to set your payments"
    - "did you want me to set the payment schedule"
    - "the quicker you get the loan paid"
    - "once you've reached 100% of what you've borrowed"
    - "just to make you aware"
    - "you're happy for me to do that payment"
    - "your account is still being charged interest"
    - "just bearing in mind"
    - "if you're happy with it"
    - "i could let you know what those repayments would look like"
    - "depending on where you pay it back"
    - "i've sent you confirmation of the payment plan"
    - "i'll send you the confirmation"
    - "does that sound okay"
    - "we do need to just remind you that it is important"
    - "so are you saying that"
    - "so what i'll do i will email this plan across to you"
    - "so does that seem cool"
    - "so the email i'm just sending you now just confirms the dates and amounts"
    - "purely for your own records"
    - "so you'll pay"
    - "i'm going to send you an email and it'll have the amounts and dates"
    
  Fair Treatment:
    - "we're here to help"
    - "take your time"
    - "you have options"
    - "we won't pressure you"
    - "we want what's best for you"
    - "we'll support you"
    - "no obligation"
    - "your decision"
    - "you're in control"
    - "we'll do our best"
    - "treat you fairly"
    - "understand your situation"
    - "i understand this is a challenging time for you"
    - "I can see how difficult this must be"
    - "I appreciate you sharing this with me"
    - "That sounds really tough"
    - "I want to make sure I understand correctly"
    - "how much longer do you think"
    - "how many days you were off work"
    - "is there any reason for your payments not coming out"
    - "i do need to just make you aware"
    - "that default now goes on hold"
    - "as long as you stick to the payment schedule"
    - "that default will not be registered"
    - "find out a bit more what's happening on your side"
    - "it would be something you would be able to afford"
    - "i'm going to take that late fee off"
    - "i don't want to put you into a payment plan where you're at detriment"
    - "where you don't have enough to buy food"
    - "if you're confident and happy that you can afford"
    - "your interest is charged at a daily rate"
    - "0.8% interest that you get charged"
    
  Vulnerability Handling:
    - "can I ask if you're okay"
    - "do you need any support"
    - "we support mental health"
    - "are you getting help"
    - "do you have a medical condition"
    - "we can pause the account"
    - "we can send a breathing space form"
    - "you don't have to explain"
    - "we understand vulnerability"
    - "difficult situation"
    - "i understand this is a challenging time for you"
    - "what is happening on your side"
    - "having somebody understand the situation that you are in"
    - "don't worry yourself"
    - "no need to stretch yourself"
    - "i'm glad you're on the road to recovery"
    
  Financial Difficulty:
    - "we can set up a plan"
    - "we can work something out"
    - "affordable repayment"
    - "can pause payments"
    - "need income and expenditure"
    - "repayment flexibility"
    - "let's look at options"
    - "freeze interest"
    - "we'll be fair"
    - "a lot to pay for"
    - "waiting on redundancy payment"
    - "we'll review your income & expenditure"
    - "i do have some concerns as we are not getting any payments"
    - "what unexpected bills are you getting"
    - "just to confirm you're still getting the salary"
    - "to confirm is your rent still"
    - "other outgoings are they still about"
    - "how much they've increased by"
    - "do you contribute towards food"
    - "is there any reason why you can't make this month's payment"
    - "do you mind me asking what those financial difficulties are"
    - "how much extra are you paying"
    - "not able to make any payment not even a small payment"
    - "having a look at your financials"
    - "the change in your circumstances"
    - "your credit commitment is that still"
    - "your food and basic essentials"
    - "do you have any other credit commitments"
    - "do you have any other active loans"
    - "are you able to make a small payment"
    - "what would be an affordable amount"
    - "looking at your affordability"
    - "are you catching up with your other credit commitments"
    - "we haven't received a payment in a while"
    - "have you fallen behind with any priority bills"
    - "is there any reason that we can't put you back to your original payment"
    - "so the financial issues that you got into do you mind telling me about them"
    - "do you know how much you're in arrears with your"
    - "when would you be able to make the first payment"
    - "so have you fallen behind of any of your priority bills"
    - "so has anything changed with your outgoing"
    - "so your income is still the same"
    - "have you fallen behind of any of your other priorities like mortgage rent"
    - "do you want to tell me a little bit more about that why it's been so bad"
    - "do you have any other outstanding credit commitments loans credit cards"
    - "to avoid us having to report on your credit file it is imperative"
    - "so is there any reason why that payment wasn't made"
    - "you said you were expecting payment"
    - "when you took out the application your salary was"
    
  Resolution & Support:
    - "we'll investigate"
    - "we'll raise a complaint"
    - "we can escalate this"
    - "here's what we'll do"
    - "next steps"
    - "i've raised that for you"
    - "we'll send confirmation"
    - "thank you for confirming"
    - "anything else I can help you with"
    - "see what we can do for you"
    - "we need to look at you making smaller payments"
    - "what if we set up smaller payments"
    - "how much can you put towards your loan"
    - "what amount would you be able to afford to pay"
    - "set something up that is affordable for you"
    - "is there anything else i can help you with on my end"
    - "let me do that for you"
    - "just reset that up for you"
    - "let's have a look and see what we can do"
    - "if i reset your payment schedule"
    - "i set that payment schedule up"
    - "you're more than welcome to send an email"
    - "what i can do for you is"
    - "are you happy with monthly payment or weekly payments"
    - "so you looking at us restarting your payment schedule"
    - "we are giving you the grace period"
    - "let's look at setting a new payment arrangement"
    - "i will remove the late charge"
    - "so if we do it over multiple payments"
    - "let me just put that in place for you"
    - "now obviously if you do find that you've got spare money"
    - "you can make extra payment online or by calling us"

# NLP concepts for semantic analysis
nlp_concepts:
  Customer Understanding:
  - "providing explanation"
  - "offering clarification"
  - "ensuring understanding" 
  - "checking comprehension"
  - "giving guidance"
  - "patient instruction"
  - "addressing confusion"
  - "supporting memory difficulties"
  - "accommodating learning needs"
  - "adapting for cognitive needs"
  - "confirming understanding"
  - "repeating information"
  - "simplifying explanation"
  - "payment confirmation process"
  - "schedule explanation"
  - "affordability checking"
  - "email confirmation sending"
  - "repayment clarification"
  - "interest rate explanation"
  - "loan terms clarification"
  - "payment confirmation checking"
  - "plan sustainability discussion"
  - "email documentation process"
  - "casual confirmation language"
  - "record keeping support"
    
  Fair Treatment:
  - "treating you fairly"
  - "showing respect for"
  - "maintaining dignity"
  - "being considerate of"
  - "demonstrating empathy"
  - "acknowledging your situation"
  - "recognizing your circumstances"
  - "validating your concerns"
  - "showing compassion for"
  - "being understanding about"
  - "respecting your position"
  - "giving you time"
  - "being patient with"
  - "transparency about charges"
  - "explaining consequences fairly"
  - "removing unfair fees"
  - "considering customer detriment"
  - "avoiding pressure tactics"
  - "daily interest disclosure"
  - "default process transparency"
  - "you're in a position that you want to make an extra payment that's fine"
  - "the best thing is really to make the payment that you're comfortable with"
  - "i don't want to put you at further detriment"
  - "if that figure is comfortable for you and you think that's sustainable"
  - "i must reiterate that it's really important that you stick to this payment plan"
  - "i must remind you that it's really important that you stick to this payment plan"
  - "we don't want to put you into any further detriment"
  - "if you do find that you've got a bit of spare money one month"
  - "you can make an extra payment online or by calling us"
  - "what i will do as a good will gesture is i will remove that"
  - "right so that fee has been removed"
  - "we are here to help where we can"
    
  Vulnerability Handling:
  - "recognizing vulnerability"
  - "providing support for"
  - "offering assistance with"
  - "showing care for"
  - "protecting your interests"
  - "supporting your wellbeing"
  - "addressing mental health needs"
  - "accommodating disability"
  - "making accommodations for"
  - "adapting to cognitive needs"
  - "removing learning barriers"
  - "identifying vulnerability signs"
  - "responding to vulnerability"
  - "safeguarding your situation"
  - "understanding difficult situations"
  - "providing emotional support"
  - "reducing customer stress"
  - "acknowledging personal struggles"
  - "recovery acknowledgment"
  - "health situation recognition"
   
  Financial Difficulty:
  - "assessing affordability"
  - "offering flexibility"
  - "creating arrangements"
  - "providing solutions"
  - "developing payment plans"
  - "exploring options"
  - "addressing hardship"
  - "considering benefit situation"
  - "reviewing income circumstances"
  - "adjusting for unemployment"
  - "tailoring to financial situation"
  - "working within your budget"
  - "finding affordable solutions"
  - "adapting payment terms"
  - "income and expenditure assessment"
  - "unexpected expense recognition"
  - "affordability calculation"
  - "financial circumstances review"
  - "payment capability assessment"
  - "budget analysis"
  - "credit commitment review"
  - "priority bill assessment"
  - "disposable income calculation"
  - "arrears assessment"
  - "priority bill checking"
  - "income verification"
  - "outgoing expense review"
  - "credit commitment analysis"
  - "payment expectation discussion"
  - "salary change assessment"
  - "credit file impact explanation"
    
  Resolution & Support:
  - "providing resolution"
  - "delivering solutions"
  - "escalating your case"
  - "investigating the issue"
  - "taking action on"
  - "following up with"
  - "confirming next steps"
  - "offering assistance"
  - "completing support"
  - "resolving your concern"
  - "implementing solutions"
  - "processing your request"
  - "arranging follow-up"
  - "ensuring resolution"
  - "payment plan creation"
  - "schedule adjustment"
  - "arrangement setup"
  - "grace period provision"
  - "fee removal process"
  - "alternative payment options"
  - "flexible solution offering"
  - "customer accommodation"
  - "multiple payment option offering"
  - "plan implementation"
  - "spare money utilization"
  - "online payment facilitation"

# Keywords for detection with confidence scoring
keywords:
  high_priority:
    - "vulnerable"
    - "complaint"
    - "suicide"
    - "harassment"
    - "threaten"
    - "scam"
    - "police"
    - "terminal"
    - "cancer"
    - "sectioned"
    - "domestic violence"
    - "psychosis"
    - "abused"
    - "abusive"
    - "coercion"
    - "lacks understanding"
    - "manipulated"
    - "mental breakdown"
    - "restraining order"
    - "refuge"
    - "feel like giving up"
    - "breaking point"
    - "i've had enough"
    - "multiple payment option offering"
    - "plan implementation"
    - "spare money utilization"
    - "online payment facilitation"
    
  medium_priority:
    - "mental health"
    - "depression"
    - "anxiety"
    - "stress"
    - "struggling"
    - "financial difficulties"
    - "unable to pay"
    - "late payment"
    - "refund"
    - "collection"
    - "signed off"
    - "injury"
    - "breathing space"
    - "death"
    - "diagnosis"
    - "bipolar"
    - "PTSD"
    - "ADHD"
    - "autism"
    - "disabilities"
    - "long term sick"
    - "therapist"
    - "rehabilitation"
    - "homeless"
    - "sofa surfing"
    - "disorientated"
    - "sicknote"
    - "medication"
    - "job loss"
    - "bailiffs"
    - "CCJ"
    - "eviction"
    - "foodbank"
    - "divorce"
    - "antidepressants"
    - "chronic pain"
    - "mobility issues"
    - "funeral"
    - "debt management"
    - "step change"
    - "overdrawn"
    - "no money"
    - "no income"
    - "rent arrears"
    - "overcommitted"
    - "grieving"
    - "child unwell"
    - "temporary accommodation"
    - "unexpected expense"
    - "financial difficulty"
    - "overwhelmed"
    - "battling"
    - "owe money"
    - "financial trouble"
    - "between jobs"
    - "bust"
    
  low_priority:
    - "manager"
    - "write off"
    - "bereavement"
    - "deaf"
    - "blind"
    - "disabled"
    - "unemployed"
    - "homeless"
    - "illness"
    - "surgery"
    - "feeling low"
    - "stressed"
    - "side effects"
    - "grieving"
    - "drug"
    - "addiction"
    - "alcohol"
    - "repossession"
    - "arrears"
    - "forbearance"
    - "tax credit"
    - "universal credit"
    - "benefits"
    - "PIP"
    - "personal independent pay"
    - "sickpay"
    - "my finances"
    - "lower payment"
    - "days off work"
    - "delay in payment"
    - "plan"
    - "grace period"

# Audio processing settings
audio:
  supported_formats:
    - "mp3"
    - "wav"
    - "m4a"
    - "flac"
    - "aac"
    - "ogg"
  max_file_size_mb: 100
  chunk_duration_minutes: 3
  normalize_audio: true
  noise_reduction: true

# Security settings
security:
  redact_pii: false
  secure_temp_files: false
  auto_cleanup: true
  encryption_key_file: "encryption.key"
  
# PII patterns for redaction (FIXED INDENTATION)
pii_patterns:
  phone_numbers:
    pattern: '\b(?:\+44\s?)?(?:\(?0\d{4}\)?\s?\d{6}|\(?0\d{3}\)?\s?\d{7})\b'
    replacement: "[PHONE]"
  emails:
    pattern: '\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b'
    replacement: "[EMAIL]"
  postcodes:
    pattern: '\b[A-Z]{1,2}\d[A-Z\d]?\s?\d[A-Z]{2}\b'
    replacement: "[POSTCODE]"
  account_numbers:
    pattern: '\b(?:account|acc|ref)(?:\s*(?:number|no|#))?\s*:?\s*\d{6,12}\b'
    replacement: "[ACCOUNT]"
  sort_codes:
    pattern: '\b\d{2}-\d{2}-\d{2}\b'
    replacement: "[SORTCODE]"